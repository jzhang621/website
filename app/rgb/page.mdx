import RGBSpace from '@/components/threejs/RGBSpace';
import StaticRGBSpace from '@/components/threejs/StaticRGBSpace';
import AnimatedRGBSpace from '@/components/threejs/AnimatedRGBSpace';
import CanvasImage from '@/components/rgb/CanvasImage';
import SVGImage from '@/components/rgb/SVGImage';
import { extractRGBPoints, applyMatrixTransformation } from '@/data/utils';
import { redwood } from '@/data/redwood';
import ColorSwatch from '@/components/rgb/ColorSwatch';
import { generateRGBGradient } from '@/data/utils';
import CustomImage from '@/components/Image';

export const point = [66, 38, 92];
export const bright = [182, 105, 254];

export const grays = generateRGBGradient([0, 0, 0], [255, 255, 255], 50);

## Fun Colors, Images, Vectors, and Matrix Transformations

I've been learning about Large Language Models (LLMs) recently, which made me realize I need to brush up on my linear algebra. Working with images was a fun and engaging way to do so, so here are some visuals and animations to share what I learned - maybe they'll help you too!


### RGB Color Model

The [RGB color model](https://en.wikipedia.org/wiki/RGB_color_model) represents colors as a combination of red, green, and blue light. We describe a particular color using a `(r, g, b)` tuple, where each value is an integer between 0 and 255, indicating the strength of red, green, and blue light, respectively.

Here are some colors described using the RGB color model:

<div className="flex gap-8 justify-center my-8 bg-slate-100 py-4 rounded-sm">
 <ColorSwatch rgb={[0, 0, 0]} label="Black" />
 <ColorSwatch rgb={[255, 0, 0]} label="Red" />
 <ColorSwatch rgb={[0, 255, 0]} label="Green" />
 <ColorSwatch rgb={[0, 0, 255]} label="Blue" />
 <ColorSwatch rgb={[255, 255, 255]} label="White" />
</div>

### Colors as Vectors

Let's start by focusing on a particular color:
<div className="flex justify-center my-8">
  <ColorSwatch rgb={point} label="Deep Violet" />
</div>

One way to think about this color is as a 3D **vector**: $\vec{\text{v}} = [66, 38, 92]$


<div className="w-4/5 mx-auto my-8">
  <CustomImage src="/images/rgb.png" width={600} />
  <figcaption className="text-center text-xs text-gray-400">
  The vector $\vec{\text{v}} = [66, 38, 92]$ shown as a point in 3D space.
  </figcaption>
</div>

From now on, we'll manipulate this color by manipulating its vector representation.

### Brightness

We can control the "brightness" of our color by changing the magnitude of the vector, while keeping its direction. Increasing the magnitude makes it brighter, and decreasing it makes it darker.

<div className="my-8">
  <AnimatedRGBSpace startPoints={[point]} endPoints={[bright]} width={800} height={500} />
</div>

### Gray Scale

In the RGB color model, gray colors are those where the red, green, and blue intensities are equal. We can represent this as a line through the origin in the RGB color space - each point on the line is a gray color with a different brightness.

<div className="w-[90%] mx-auto my-8">
  <CustomImage src="/images/gray.jpg" width={800} height={512} />
</div>

{/* <div className="my-8">
  <StaticRGBSpace points={grays} width={800} height={500} rotationAngle={15} />
</div> */}


### Gradients and Interpolation

The RGB color model allows us to easily interpolate between colors. If we want to smoothly transition from one color to another, we can do so by linearly interpolating between the two colors. This is equivalent to drawing a line between the two points and finding all the points along the line.

<div className="my-8">
  <ColorSwatch rgb={bright} />
</div>






export const redwoodPoints = extractRGBPoints(redwood);

export const transformMatrix = [[1.5, 0, 0], [0, 1, 0], [0, 0, 1]];

export const blackAndWhite = [[.33, .33, .33], [.33, .33, .33], [.33, .33, .33]];

export const redTint = [[1.5, 0, 0], [0, 1, 0], [0, 0, 1]];


export const noGreen = [[1, 0, 0], [0, 0, 0], [0, 0, 1]];
export const noBlue = [[1, 0, 0], [0, 1, 0], [0, 0, 0]];
export const noRed = [[0, 0, 0], [0, 1, 0], [0, 0, 1]];
export const filter = noBlue;


export const endPoints = extractRGBPoints(applyMatrixTransformation(redwood, filter));



{/* <CanvasImage matrix={[[.33, .33, .33], [.33, .33, .33], [.33, .33, .33]]} /> */}


{/* <CanvasImage matrix={[[1.5, 0, 0], [0, 1, 0], [0, 0, 1]]} /> */}

{/* <SVGImage width={512} /> */}


{/* <div className="my-8">
  <AnimatedRGBSpace startPoints={redwoodPoints} transformMatrix={blackAndWhite} width={928} height={500} controlMode="click" />
</div> */}

## Matrix Transformations

<div className="my-8">
  <AnimatedRGBSpace startPoints={redwoodPoints} endPoints={endPoints} width={928} height={500} rotationAngle={0} />
</div>

<div className="flex gap-4">
  <CanvasImage matrix={[[1, 0, 0], [0, 1, 0], [0, 0, 1]]} />
  <CanvasImage matrix={filter} />
</div>

